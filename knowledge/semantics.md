# Проверки

## Первый модуль в списке = procedure

## Единица трансляции = имя файла модуля

## Проверка количество уровней в импорте

Должен быть 1 уровень кроме Ada.Text_IO

## Проверка доступности имен для типов и подпрог.

## Проверка доступности имен в объявлениях и в коде

## Проверка конфликта имен

* При объявление в одной области видимости - конфликт
* проверять все кроме функций

## Проверка на импорт самого себя

## Проверка на use не импортированных модулей

## Проверка на импорт существующего модуля

## Проверка типов IExpr

## Проверка перегрузки

Проверка что об. в одном скопе. подпрог. действительно перег.

# Преобразования AST

## Замена типов-затычек в вардеклах

## Замена типов-затычек в алиасах

если там затычка

## Замена типов-затычек в типах-массивах

## Замена типов-затычек в функции на указатель на реальный тип

\+ Замена надклассовой ссылки на укзатель на временную объект, врем. объект. добавлятеся в тот же скоуп

## Изменение временных объектов надклассовых ссылок

Добавление в них указателя на класс

## Замена exrp на обращение к элементу массива

## Замена expr массива и assign на присваивание

## Замена expr на вызов функции

## Замена expr на получение переменной

## Замена expr получения аттрибута на вызов стандартной либы

## Создания фул ооп класса из pack+type

Вставка класса в скоуп рекорда и подпрог.

Замена родителя рекорда и подпрог. на класс

## Замена типов-затычек при наследование рекода

* проверка на переопределение значений
* проверка на tagged базу (обязательно при наследовании) и перевод самого рекорда в tagged
* добавление указателей в базу на наследника, а в наследника на базу

## Создание глобал спейса

внесение в него импортов, обработка юзов, для каждого модуля

# Последовательность

1. Первый модуль в списке = procedure
2. Единица трансляции = имя файла модуля
3. Проверка количество уровней в импорте
4. Проверка на импорт самого себя
5. Проверка на импорт существующего модуля
6. Проверка на use не импортированных модулей
7. Создание глабал спейса
8. Проверка конфликта имен
9. Проверка доступности имен для типов и подпрог.
10. Замена типов-затычек в функции на указатель на реальный тип
11. Проверка перегрузки
12. Замена типов-затычек при наследование рекода
13. Создания фул ооп класса из pack+type
14. Проверка доступности имен в объявлениях и в коде
15. Замена типов-затычек в типах-массивах
16. Замена типов-затычек в алиасах
17. Замена типов-затычек в вардеклах
18. Замена exrp на обращение к элементу массива
19. Замена expr на вызов функции
20. Замена expr массива и assign на присваивание
21. Замена expr на получение переменной
22. Замена expr получения аттрибута на вызов стандартной либы
23. Проверка типов
