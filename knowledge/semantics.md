# Проверки

## Первый модуль в списке = procedure

## Единица трансляции = имя файла модуля

## Проверка количество уровней в импорте

Должен быть 1 уровень кроме Ada.Text_IO

## Проверка наследования при динамически диспечерезации

## Проверка доступности символов

## Проверка конфликта имен

* При объявление в одной области видимости - конфликт
* При объявление в разных областях и внесежнии в данную область - затемнение внесенного имени

```ada
with pack; use pack;

with ada.text_io;

-- pack.ads:  
--  package pack is 
--    X: Integer := 1;
--  end pack;

procedure main is 
   --  type X is null record; err
   X: Integer := 2;
begin
   ada.text_io.put_line(Integer'Image(X)); -- OK: output - 2
end main;
```

## Проверка на импорт самого себя

## Проверка на use не импортированных модулей

## Проверка на импорт существующего модуля

## Проверка типов IExpr

1. Юзер декл типов
2. Типов подпрограмм

## Проверка что имена одинаковые 

## Проверка что IExpr в stm - вызов или индексация

# Заполнение symtab

1. Имена типов юзера
2. Имена подпрограмм
3. Имена пакетов

локально объявлеенные подпрограммы, записывать

# Преобразования AST

## Замена Vardecl с типом массива на Arraydecl

Поиск типа в symtab

## Замена типов-затычек на ссылку в symtab

\+ Замена надклассовой ссылки на укзатель на нужный объект в symtab

## Замена exrp на обращение к элементу массива

## Замена expr массива и assign на присваивание

## Замена expr на вызов функции

## Замена expr на получение переменной

## Замена expr на получение локальной переменной

## Замена expr получения аттрибута на вызов стандартной либы

## Создания фул ооп класса из pack+type

# Последовательность

1. Первый модуль в списке = procedure
2. Единица трансляции = имя файла модуля
3. Проверка количество уровней в импорте
4. Проверка на импорт самого себя
5. Проверка на импорт существующего модуля
6. Заполнение symtab
7. Проверка на use не импортированных модулей
8. Проверка что IExpr в stm - вызов или индексация
9. Замена Vardecl с типом массива на Arraydecl (добавление в symtab)
10. Замена expr массива и assign на присваивание
11. Замены IExpr в ast
12. Замена expr получения аттрибута на вызов стандартной либы
13. Замена типов-затычек на ссылку в symtab
14. Проверка доступности символов
15. Проверка на конфликт имен
16. Проверка типов
17. Создания фул ооп класса из pack+type
18. Проверка наследования при динамически диспечерезации
